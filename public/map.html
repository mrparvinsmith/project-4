<!DOCTYPE html>
<html ng-app="Map">
<head>
  <title>Map</title>
  <style>
    #map {
      height: 200px;
    }
  </style>
</head>
<body ng-controller="MapController as ctrl">
  <a href="/">Home</a>
  <div>
    <div ng-if="ctrl.loggedIn">
      <h3>Hello {{ctrl.user.username}}</h3>
    </div>
    <div ng-if="ctrl.positionUnknown">
      <p>We could not get your location. Please tell us below.</p>
    </div>
    <form ng-submit="ctrl.changeLocation()">
      <label>Where would you like to look?</label>
      <input type="text" placeholder="123 Fake St, Santa Monica, CA 90401" ng-model="ctrl.newLocation">
    </form>
    <button ng-click="ctrl.getLocation()">Use current location</button>
    <br>
    <div>Looking at: {{ctrl.location}}</div>
    <br>
    <br>
    <button ng-click="ctrl.searchGarages()">Parking Garages</button>
    <button ng-click="ctrl.searchMetro()">Metro</button>
    <br>
    <div id="map"></div>
  </div>

  <!-- didn't work -->
  <!-- <script ng-src="{{ctrl.mapsLink}}"></script> -->

  <!-- works with api key in it, but shouldn't put api key in -->
  <script src="https://maps.googleapis.com/maps/api/js?key=API_KEY"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="/js/map.js"></script>
  <script src="/js/gmapFactory.js"></script>
  <script src="/js/mapController.js"></script>

</body>
</html>
